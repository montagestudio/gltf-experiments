<html>

<head>
    <link rel="stylesheet" type="text/css" href="door.css" />
    <script type="text/montage-serialization">
        {
            "owner": {
                "properties": {
                    "element": { "#": "beachplanet" }
                }
            },

            "scene": {
                "prototype": "mjs-volume/runtime/scene",
                "properties": {
                    "path": "model/beachplanet/beachplanet.json"
                }
            },

            "doorViewPoint": {
                "prototype": "mjs-volume/runtime/node",
                "properties": {
                    "id": "node-Camera_cabin",
                    "scene": { "@": "scene" }
                }
            },

            "door": {
                "prototype": "mjs-volume/runtime/node",
                "properties": {
                    "id": "node_6",
                    "scene": { "@": "scene" }
                },
                "bindings": {
                    "classList.has('animate')": { "<-": "true" },
                    "classList.has('open')": { "<-": "@owner.doorOpen" }
                },
                "listeners": [{
                    "type": "action",
                    "listener": { "@": "owner" }
                }]
            },

            "substitution": {
                "prototype": "montage/ui/substitution.reel",
                "properties": {
                    "element": {"#": "substitution"},
                    "switchValue": "static"
                },
                "bindings": {
                    "switchValue": {"<-": "@owner.viewKey"}
                }                
            },

            "viewer": {
                "prototype": "mjs-volume/ui/view.reel",
                "properties": {
                    "allowsViewPointControl" : false,
                    "element": { "#": "viewer" },
                    "scene": { "@": "scene" },
                    "viewPoint": { "@" : "doorViewPoint" }
                }
            }
        }
    </script>
</head>

<body>
    <div data-montage-id="beachplanet">
    <div data-montage-id="substitution">
        <div data-arg="static">This demo requires WebGL. Please check your browser has WebGL supported and enabled
        </div>
        <div data-arg="webgl"  class="beachplanet">
            <h1 id="top">Open</h1>
            <h1 id="bottom">this door</h1>
            <div data-montage-id="viewer" class="stage"></div>
        </div>
    </div>
</body>

</html>